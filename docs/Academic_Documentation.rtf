{\rtf1\ansi\deff0{\fonttbl{\f0 \fswiss Helvetica;}{\f1 \fmodern Courier;}}
{\colortbl;\red255\green0\blue0;\red0\green0\blue255;}
\widowctrl\hyphauto

{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel0 \b \fs36 dgHabit: Academic Project Documentation\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Title: dgHabit \u8211- A Minimal, Sheet\u8209 ?Based Habit and Activity Tracker\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Authors: [Your Name]\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Affiliation: [Institute / Department]\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Date: October 30, 2025\par}
{\pard \qc \f0 \sa180 \li0 \fi0 \emdash\emdash\emdash\emdash\emdash\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 Abstract\par}
{\pard \ql \f0 \sa180 \li0 \fi0 dgHabit is a cross\u8209 ?platform Flutter application that helps users build habits through a daily timeline of activities, lightweight automation (steps, screen time), and clear analytics. The app employs a persistent shell with a unified AppBar and presents feature UIs as modal bottom sheets for a modern, focused user experience. This document describes the problem and motivation, objectives, literature context, system architecture and design, implementation details (including activity continuity handling), testing methodology with automated screenshot generation, and results. We conclude with limitations and future work.\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 1. Introduction\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Habit formation is a compound process of planning, repetition, and feedback. Many tools log steps or tasks in isolation but make it hard to see the day holistically. dgHabit aims to unify manual and automatic signals into a continuous \u8220"timeline\u8221" that reflects real days, while keeping the interface minimal and responsive.\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 2. Objectives\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Build a daily activity timeline that preserves continuity (no gaps/overlaps after edits).\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Support quick manual logging and custom categories.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Integrate lightweight automation sources (steps, screen time) with user consent.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Provide simple analytics for weekly trends and category breakdown.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Deliver a cohesive UI with a persistent shell and bottom\u8209 ?sheet feature surfaces.\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 3. Literature Review (Brief)\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Habit tracking apps (e.g., Streaks, Habitica) focus on check\u8209 ?ins; fewer visualize continuous time allocation.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Time\u8209 ?blocking tools (e.g., calendar) provide continuity but emphasize planning over retrospective logging.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Mobile sensor research shows practical collection of steps and usage metrics under explicit permissions; privacy and clarity of consent remain central.\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 4. System Design and Architecture\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Platform: Flutter (Material 3) for Android, iOS, Web, Desktop.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab State: Riverpod providers (e.g., {\f1 firebaseServiceProvider}, {\f1 sensorServiceProvider}).\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Data: Firebase Auth/Firestore; per\u8209 ?user collections under {\f1 users/\{uid\}}.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab UI: Unified AppBar theme; persistent root Scaffold (AppBar + Bottom Nav). Feature UIs (Add Activity, Activity Detail, Settings, Permissions, Category Manager) presented as modal bottom sheets with compact sheet headers.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Services:\par}
{\pard \ql \f0 \sa0 \li720 \fi-360 \endash \tx360\tab FirebaseService: activity CRUD and continuity helpers (detect and resolve overlaps/gaps).\par}
{\pard \ql \f0 \sa0 \li720 \fi-360 \endash \tx360\tab Sensor integration: steps (Activity Recognition), screen time (Usage Access on Android).\sa180\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel2 \b \fs28 4.1 Data Model\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \f1 ActivityModel\line
- activityId: string\line
- activityName: string\line
- startTime: Date\line
- endTime: Date\line
- category: string\line
- source: enum(manual|auto)\line
- steps?: int\line
- screenTimeMinutes?: double\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel2 \b \fs28 4.2 Continuity Handling (Algorithm Outline)\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Goal: After inserting or editing an activity, maintain a continuous timeline without overlaps. Let A\u8242 ? be the new or updated activity.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Detect: Query previous neighbor (prev) and next neighbor (next) around A\u8242 ?. Report {\f1 prevOverlap = prev.end > A\u8242 ?.start}, {\f1 nextOverlap = A\u8242 ?.end > next.start}.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Strategies (user\u8209 ?selectable when overlap exists):\par}
{\pard \ql \f0 \sa0 \li720 \fi-360 \endash \tx360\tab If prevOverlap: either trim prev.end to A\u8242 ?.start, or move A\u8242 ?.start to prev.end.\par}
{\pard \ql \f0 \sa0 \li720 \fi-360 \endash \tx360\tab If nextOverlap: either trim A\u8242 ?.end to next.start, or move next.start to A\u8242 ?.end.\sa180\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Apply selected strategy then upsert activities; ensure invariants prev.end \u8804 ? A\u8242 ?.start \u8804 ? A\u8242 ?.end \u8804 ? next.start.\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Edge cases: - Activities confined to a single day (clamp edits within current day). - Very short durations (enforce minimum duration or allow zero\u8209 ?length for markers as future work). - Deletions collapse gaps; app may optionally extend neighbors (future work).\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 5. Implementation\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Unified AppBar color: 0xFF2DD4BF (mint), white foreground across light/dark.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Sheet header component: {\f1 SheetHeader} reused across sheets (title + actions + close).\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Screens updated to sheet mode ({\f1 inSheet} flag): Add Activity, Activity Detail, Settings, Permissions, Category Manager.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Timeline interactions: tap to open details sheet; swipe left to edit; swipe right to delete with UNDO.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Quick Actions sheet: record screen time for today, show steps, start/stop a steps session.\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Key files: - {\f1 lib/theme/app_theme.dart} \u8211- unified AppBar styling. - {\f1 lib/screens/home_screen.dart} \u8211- persistent shell; launches sheet screens. - {\f1 lib/screens/timeline_screen.dart} \u8211- swipe actions and list rendering. - {\f1 lib/screens/add_activity_screen.dart}, {\f1 lib/screens/activity_detail_screen.dart} \u8211- in\u8209 ?sheet editing with continuity choices. - {\f1 lib/screens/settings_screen.dart}, {\f1 lib/screens/permissions_screen.dart}, {\f1 lib/screens/category_manager_screen.dart} \u8211- sheet variants with {\f1 SheetHeader}. - {\f1 lib/widgets/sheet_header.dart} \u8211- reusable header.\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 6. Screens and UX Walkthrough\par}
{\pard \ql \f0 \sa180 \li0 \fi0 The following images live under {\f1 docs/screenshots/individual/} and were generated via automated goldens.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Splash: {\f1 splash.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Onboarding: {\f1 onboarding.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Home: {\f1 home.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Timeline: {\f1 timeline.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Analytics: {\f1 analytics.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Add Activity (page): {\f1 add_activity.png}; (sheet): {\f1 sheet_add_activity.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Activity Detail (page): {\f1 activity_detail.png}; (sheet): {\f1 sheet_activity_detail.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Settings (page): {\f1 settings.png}; (sheet): {\f1 sheet_settings.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Category Manager (page): {\f1 category_manager.png}; (sheet): {\f1 sheet_category_manager.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Permissions (page): {\f1 permissions.png}; (sheet): {\f1 sheet_permissions.png}\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Quick Actions (sheet): {\f1 sheet_quick_actions.png}\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Composite overview: {\f1 docs/screenshots/all_screens.png}.\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 7. Testing and Validation\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Golden screenshots: {\f1 test/screenshots/golden_screens_test.dart} uses a fake Firebase service and local fonts to avoid network I/O.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Command to regenerate:\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \f1 flutter test --update-goldens test/screenshots/golden_screens_test.dart\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Analyzer/lints: flutter_lints; deprecations replaced; tests pass.\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 8. Results and Discussion\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab The sheet\u8209 ?based UX preserved navigation context, reducing full\u8209 ?screen transitions and visual churn.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Swipe gestures and Quick Actions improved capture speed for common tasks.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Continuity helpers prevented broken timelines after inserts/edits, with explicit choices when overlaps occur.\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 9. Limitations\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab iOS screen time APIs are not implemented (Android Usage Access only).\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Sensors can be noisy; step streams may vary by device.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab No offline sync conflict resolution (future enhancement).\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 10. Future Work\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Dark mode golden assets; tablet/desktop responsive layouts.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Additional automations (calendar import, location\u8209 ?based suggestions).\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Reminders, streaks, and habit goals.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Advanced continuity policies (auto\u8209 ?merge/extend neighbors).\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 11. Ethical and Privacy Considerations\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Permissions are explicit and revocable; app provides a Permissions screen and guidance.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Data is scoped per user UID; no analytics/telemetry beyond functional logging.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Users can delete activities; future work: export/delete all data.\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 12. References\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Flutter, Riverpod, Firebase official documentation.\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Literature on habit formation and time\u8209 ?use studies (add citations as needed).\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 13. Appendix A: Design System\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Colors:\par}
{\pard \ql \f0 \sa0 \li720 \fi-360 \endash \tx360\tab AppBar background: 0xFF2DD4BF; foreground: white.\par}
{\pard \ql \f0 \sa0 \li720 \fi-360 \endash \tx360\tab Material 3 light/dark schemes elsewhere.\sa180\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Typography:\par}
{\pard \ql \f0 \sa0 \li720 \fi-360 \endash \tx360\tab Sheet headers use TitleMedium with fontWeight 700.\sa180\par}
{\pard \ql \f0 \sa0 \li360 \fi-360 \bullet \tx360\tab Components:\par}
{\pard \ql \f0 \sa0 \li720 \fi-360 \endash \tx360\tab Reusable {\f1 SheetHeader} (title + actions + close), FilledButton/OutlinedButton, compact ListTiles.\sa180\sa180\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 14. Appendix B: How to Run\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \f1 flutter pub get\line
flutter run\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Configure Firebase with {\f1 google-services.json} (Android) and {\f1 GoogleService-Info.plist} (iOS) as applicable.\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \outlinelevel1 \b \fs32 15. Appendix C: Export to DOCX/PDF/RTF (Pandoc)\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Optional: Use Pandoc to export this Markdown document to common academic formats.\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Install Pandoc (Windows):\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \f1 winget install Pandoc.Pandoc\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Export to DOCX:\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \f1 pandoc -s docs/Academic_Documentation.md -o docs/Academic_Documentation.docx\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Export to PDF (requires a TeX engine such as MiKTeX):\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \f1 pandoc -s docs/Academic_Documentation.md -o docs/Academic_Documentation.pdf --pdf-engine=xelatex\par}
{\pard \ql \f0 \sa180 \li0 \fi0 Export to RTF:\par}
{\pard \ql \f0 \sa180 \li0 \fi0 \f1 pandoc -s docs/Academic_Documentation.md -o docs/Academic_Documentation.rtf\par}
}
